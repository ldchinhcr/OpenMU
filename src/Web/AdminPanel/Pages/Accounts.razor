@page "/accounts"
@using MUnique.OpenMU.Web.AdminPanel.Services
@using MUnique.OpenMU.DataModel.Entities;
@using MUnique.OpenMU.Persistence;

@inject AccountService _accountService;

<h1>Tài khoản</h1>

<div>
    <DataTable TItem=@Account>
        <TableHeader>
            <th class="col-1">Tên đăng nhập</th>
            <th class="col-1">Trạng thái</th>
            <th class="col-2">E-Mail</th>
            <th class="col-2">Hành động</th>
        </TableHeader>
        <ItemTemplate Context="item">
            <td>@item.LoginName</td>
            <td>@item.State</td>
            <td>@item.EMail</td>
            <td>
                <NavLink href="@($"edit-account/{item.GetId()}/{typeof(Account).FullName}/{item.GetId()}")">Chỉnh sửa</NavLink>
            </td>
        </ItemTemplate>
        <TableFooter>
            <td><button type="button" class="btn btn-sm btn-success" @onclick="@this._accountService.CreateNewInModalDialogAsync">Tạo mới</button></td>
            <td></td>
            <td></td>
            <td></td>
        </TableFooter>
    </DataTable>
</div>
